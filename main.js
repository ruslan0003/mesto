!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(t);var o=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var t,n,o;return t=e,(n=[{key:"getData",value:function(){return fetch(this._baseUrl,{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"createCard",value:function(e,t){return fetch(this._baseUrl,{headers:this._headers,method:"POST",body:JSON.stringify({name:e,link:t})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"likeCard",value:function(e){return fetch("".concat(this._baseUrl,"/likes/").concat(e),{headers:this._headers,method:"PUT"}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"getLikes",value:function(e){return fetch("".concat(this._baseUrl,"/likes/").concat(e),{headers:this._headers,method:"PUT"}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"dislikeCard",value:function(e){return fetch("".concat(this._baseUrl,"/likes/").concat(e),{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"editProfile",value:function(e,t){return fetch(this._baseUrl,{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e,about:t})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/").concat(e),{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}},{key:"changeAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}))}}])&&r(t.prototype,n),o&&r(t,o),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){var n=t.title,r=t.url,o=t.cardSelector,i=t.click,u=t.likes,c=t.api,a=t.id,l=t.submitPopup,s=t.ownerId,f=t.myId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._title=n,this._url=r,this._cardSelector=o,this._handleCardClick=i,this._howManyLikes=u,this._api=c,this._id=a,this._submitPopup=l,this._ownerId=s,this._myId=f}var t,n,r;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".element__delete-button").addEventListener("click",(function(){e._submitPopup.setSubmitAction((function(){return e._api.deleteCard(e._id).then((function(t){e._element.remove(),e._submitPopup.close()})).catch((function(e){console.log(e)}))})),e._submitPopup.open()})),this._element.querySelector(".element__like-button").addEventListener("click",(function(){e._handleLikeClick()})),this._element.querySelector(".element__photo").addEventListener("click",(function(){e._handleCardClick()}))}},{key:"_handleLikeClick",value:function(){var e=this._element.querySelector(".element__like-icon"),t=this._element.querySelector(".element__like-number");e.classList.toggle("element__like-icon_active"),e.classList.contains("element__like-icon_active")?this._api.likeCard(this._id).then((function(e){t.textContent="".concat(e.likes.length)})).catch((function(e){console.log(e)})):this._api.dislikeCard(this._id).then((function(e){t.textContent="".concat(e.likes.length)})).catch((function(e){console.log(e)}))}},{key:"isOwner",value:function(e){var t=this._element.querySelector(".element__delete-button");e!==this._ownerId&&t.remove()}},{key:"generateCard",value:function(){this._element=this._getTemplate();var e=this._element.querySelector(".element__title"),t=this._element.querySelector(".element__photo"),n=this._element.querySelector(".element__like-number");return e.textContent=this._title,t.src=this._url,t.alt=this._title,n.textContent=this._howManyLikes,this._setEventListeners(),this._element}}])&&i(t.prototype,n),r&&i(t,r),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){var r=t.inputSelector,o=t.inputErrorClass,i=t.errorClass,u=t.inactiveButtonClass,c=t.submitButtonSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=n,this._inputSelector=r,this._inputErrorClass=o,this._errorClass=i,this._inactiveButtonClass=u,this._submitButtonSelector=c}var t,n,r;return t=e,(n=[{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_showInputError",value:function(e,t,n,r,o){var i=e.querySelector("#".concat(t.id,"-error"));t.classList.add(r),i.classList.add(o),i.textContent=n}},{key:"_hideInputError",value:function(e,t,n,r){var o=e.querySelector("#".concat(t.id,"-error"));t.classList.remove(n),o.classList.remove(r),o.textContent=""}},{key:"_isFormValid",value:function(e,t){t.validity.valid?this._hideInputError(e,t,this._inputErrorClass,this._errorClass):this._showInputError(e,t,t.validationMessage,this._inputErrorClass,this._errorClass)}},{key:"_toggleButtonState",value:function(e,t,n){this._hasInvalidInput(e)?(t.classList.add(n),t.disabled=!0):(t.classList.remove(n),t.disabled=!1)}},{key:"removeErrors",value:function(e){var t=this,n=Array.from(e.querySelectorAll(this._inputSelector));n.forEach((function(n){t._hideInputError(e,n,t._inputErrorClass,t._errorClass)}));var r=e.querySelector(this._submitButtonSelector);this._toggleButtonState(n,r,this._inactiveButtonClass)}},{key:"_setEventListeners",value:function(e,t,n){var r=this,o=Array.from(e.querySelectorAll(t)),i=document.querySelector(".popup-add__submit-button");this._toggleButtonState(o,i),o.forEach((function(t){t.addEventListener("input",(function(){r._isFormValid(e,t);var i=e.querySelector(n);r._toggleButtonState(o,i,r._inactiveButtonClass)}))}))}},{key:"enableValidation",value:function(){this._form.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners(this._form,this._inputSelector,this._submitButtonSelector)}}])&&c(t.prototype,n),r&&c(t,r),e}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupSelector=t,this._handleEscClose=this._handleEscClose.bind(this),this._closePopupByOverlayClick=this._closePopupByOverlayClick.bind(this)}var t,n,r;return t=e,(n=[{key:"open",value:function(){this._popupSelector.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),window.addEventListener("click",this._closePopupByOverlayClick)}},{key:"close",value:function(){this._popupSelector.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),window.removeEventListener("click",this._closePopupByOverlayClick)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_closePopupByOverlayClick",value:function(e){e.target.classList.contains("popup_opened")&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupSelector.querySelector(".close-icon").addEventListener("click",(function(){e.close()}))}}])&&l(t.prototype,n),r&&l(t,r),e}();function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,n,r,o=_(i);function i(e){var t,n=e.popupSelector,r=e.form,u=e.submit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,n))._form=r,t._handleSubmitButton=u,t}return t=i,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._popupSelector.querySelectorAll(".form__input"),this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"_textLoading",value:function(e){var t=this._form.querySelector(".form__submit");t.textContent=e?"Сохранение...":"Сохранить"}},{key:"setEventListeners",value:function(){var e=this;h(v(i.prototype),"setEventListeners",this).call(this),this._popupSelector.addEventListener("submit",(function(t){t.preventDefault(),e._textLoading(!0),e._handleSubmitButton(e._getInputValues())}))}},{key:"close",value:function(){h(v(i.prototype),"close",this).call(this),this._form.reset(),this._textLoading(!1)}},{key:"open",value:function(){h(v(i.prototype),"open",this).call(this)}}])&&p(t.prototype,n),r&&p(t,r),i}(s);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(i,e);var t,n,r,o=w(i);function i(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e))._popupPhotoItem=t,r._popupPhotoTitle=n,r}return t=i,(n=[{key:"open",value:function(e,t){g(C(i.prototype),"open",this).call(this),this._popupPhotoItem.src=t,this._popupPhotoTitle.alt=e,this._popupPhotoTitle.textContent=e}}])&&S(t.prototype,n),r&&S(t,r),i}(s);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return(L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(i,e);var t,n,r,o=I(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e)}return t=i,(n=[{key:"setSubmitAction",value:function(e){this._submitAction=e}},{key:"setEventListeners",value:function(){var e=this;L(T(i.prototype),"setEventListeners",this).call(this),this._popupSelector.addEventListener("submit",(function(t){t.preventDefault(),e._submitAction()}))}}])&&P(t.prototype,n),r&&P(t,r),i}(s);function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialArray=r,this._renderer=o,this._container=document.querySelector(n)}var t,n,r;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._initialArray.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&A(t.prototype,n),r&&A(t,r),e}();function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(t){var n=t.nameInfoSelector,r=t.jobInfoSelector,o=t.userAvatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameInfoSelector=n,this._jobInfoSelector=r,this._userAvatarSelector=o}var t,n,r;return t=e,(n=[{key:"getUserInfo",value:function(e,t){return this._values={name:e.textContent,job:t.textContent},this._values}},{key:"setUserInfo",value:function(e,t){this._nameInfoSelector.textContent=e.value,this._jobInfoSelector.textContent=t.value}}])&&U(t.prototype,n),r&&U(t,r),e}(),V={inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"form__submit_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},M=document.querySelector(".popup-edit"),N=document.querySelector(".profile__edit-button"),J=(M.querySelector(".popup-edit__close-button"),M.querySelector(".popup-edit__submit-button"),document.querySelector(".popup-edit__form")),z=J.querySelector(".form__input_type_name"),F=J.querySelector(".form__input_type_job"),H=document.querySelector(".profile__name"),$=document.querySelector(".profile__position"),G=document.querySelector(".popup-add"),K=document.querySelector(".profile__add-button"),Q=(G.querySelector(".popup-add__close-button"),G.querySelector(".popup-add__submit-button"),document.querySelector(".popup-add__form")),W=Q.querySelector(".form__input_type_title"),X=Q.querySelector(".form__input_type_url"),Y=document.querySelector(".popup-image"),Z=document.querySelector(".popup-image__photo"),ee=document.querySelector(".popup-image__title"),te=(document.querySelector(".element__delete-button"),document.querySelector(".popup-submit")),ne=(document.querySelector(".popup-submit__form"),document.querySelector(".popup-avatar")),re=document.querySelector(".profile__change-avatar-button"),oe=document.querySelector(".popup-avatar__form"),ie=oe.querySelector(".form__input_type_avatar_url"),ue=document.querySelector(".profile__avatar");n(0);function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var le=new o({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-14/cards",headers:{authorization:"82766c49-7200-46d6-b92c-89ba083f974b","Content-Type":"application/json"}}),se=new o({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-14/users/me",headers:{authorization:"82766c49-7200-46d6-b92c-89ba083f974b","Content-Type":"application/json"}});se.getData().then((function(e){H.textContent=e.name,$.textContent=e.about,ue.src=e.avatar})).catch((function(e){console.log(e)}));var fe=new D({nameInfoSelector:H,jobInfoSelector:$,userAvatarSelector:ue}),pe=new R(te);pe.setEventListeners(),Promise.all([se.getData(),le.getData()]).then((function(e){var t=ce(e,2),n=t[0],r=t[1];function o(e,t,n,r,o,i){return new u({title:e,url:t,cardSelector:".element-template",click:function(){return n=e,r=t,void l.open(n,r);var n,r},likes:n,api:le,id:r,submitPopup:pe,ownerId:o,myId:i})}var i=new B({items:r.reverse(),renderer:function(e){var t=o(e.name,e.link,e.likes.length,e._id,e.owner._id,n._id),r=t.generateCard();i.addItem(r),t.isOwner(n._id)}},".elements");i.renderItems();var c=new m({popupSelector:G,form:Q,submit:function(){return e=W,t=X,void le.createCard(e.value,t.value).then((function(e){var t=o(e.name,e.link,e.likes.length,e._id,e.owner._id,n._id),r=t.generateCard();i.addItem(r),t.isOwner(n._id),c.close()})).catch((function(e){console.log(e)}));var e,t}});c.setEventListeners(),K.addEventListener("click",(function(){c.open(),y.removeErrors(Q)}));var l=new O(Y,Z,ee);var s=new m({popupSelector:M,form:J,submit:function(){return d(z,F)}}),f=new m({popupSelector:ne,form:oe,submit:function(){return p(ie)}}),p=function(){se.changeAvatar(ie.value).then((function(e){ue.src=e.avatar,f.close()})).catch((function(e){console.log(e)}))};s.setEventListeners(),l.setEventListeners(),f.setEventListeners();var h=new a(V,J);h.enableValidation();var y=new a(V,Q);y.enableValidation();var _=new a(V,oe);_.enableValidation();var d=function(){fe.setUserInfo(z,F),se.editProfile(z.value,F.value),s.close()};N.addEventListener("click",(function(){s.open();var e=fe.getUserInfo(H,$);z.value=e.name,F.value=e.job,h.removeErrors(J)})),re.addEventListener("click",(function(){f.open(),_.removeErrors(oe)}))})).catch((function(e){console.log(e)}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYXBpLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2NhcmQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9wb3B1cC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9wb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3BvcHVwV2l0aFN1Ym1pdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9zZWN0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3VzZXJJbmZvLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9jb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJBcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsInRoaXMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImNhcmRUaXRsZSIsImNhcmRVcmwiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImxpbmsiLCJjYXJkSWQiLCJ1c2VyTmFtZSIsInVzZXJKb2IiLCJhYm91dCIsImF2YXRhciIsIkNhcmQiLCJ0aXRsZSIsInVybCIsImNhcmRTZWxlY3RvciIsImNsaWNrIiwibGlrZXMiLCJhcGkiLCJpZCIsInN1Ym1pdFBvcHVwIiwib3duZXJJZCIsIm15SWQiLCJfdGl0bGUiLCJfdXJsIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaG93TWFueUxpa2VzIiwiX2FwaSIsIl9pZCIsIl9zdWJtaXRQb3B1cCIsIl9vd25lcklkIiwiX215SWQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0U3VibWl0QWN0aW9uIiwiZGVsZXRlQ2FyZCIsInJlbW92ZSIsImNsb3NlIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwib3BlbiIsIl9oYW5kbGVMaWtlQ2xpY2siLCJsaWtlSWNvbiIsIm51bWJlck9mTGlrZXMiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJjb250YWlucyIsImxpa2VDYXJkIiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJkaXNsaWtlQ2FyZCIsIm15VXNlcklkIiwiZGVsZXRlQnV0dG9uIiwiX2dldFRlbXBsYXRlIiwicGhvdG9FbGVtZW50IiwicGhvdG9UaXRsZSIsInNyYyIsImFsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtIiwiaW5wdXRTZWxlY3RvciIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfZm9ybSIsIl9pbnB1dFNlbGVjdG9yIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJhbGxJbnB1dExpc3QiLCJzb21lIiwiaW5wdXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiZXJyb3JNZXNzYWdlIiwiZm9ybUVycm9yTWVzc2FnZSIsImFkZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiYnV0dG9uIiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJpbnB1dEVsZW1lbnQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJidXR0b25BZGRGb3JtIiwiX2lzRm9ybVZhbGlkIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBTZWxlY3RvciIsIl9oYW5kbGVFc2NDbG9zZSIsIl9jbG9zZVBvcHVwQnlPdmVybGF5Q2xpY2siLCJ3aW5kb3ciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdCIsIl9oYW5kbGVTdWJtaXRCdXR0b24iLCJfaW5wdXRMaXN0IiwiX2Zvcm1WYWx1ZXMiLCJpc0xvYWRpbmciLCJzdWJtaXRCdXR0b24iLCJfdGV4dExvYWRpbmciLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlBvcHVwV2l0aEltYWdlIiwicG9wdXBQaG90b0l0ZW0iLCJwb3B1cFBob3RvVGl0bGUiLCJfcG9wdXBQaG90b0l0ZW0iLCJfcG9wdXBQaG90b1RpdGxlIiwiUG9wdXBXaXRoU3VibWl0Iiwic3VibWl0QWN0aW9uIiwiX3N1Ym1pdEFjdGlvbiIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaW5pdGlhbEFycmF5IiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIlVzZXJJbmZvIiwibmFtZUluZm9TZWxlY3RvciIsImpvYkluZm9TZWxlY3RvciIsInVzZXJBdmF0YXJTZWxlY3RvciIsIl9uYW1lSW5mb1NlbGVjdG9yIiwiX2pvYkluZm9TZWxlY3RvciIsIl91c2VyQXZhdGFyU2VsZWN0b3IiLCJuYW1lVGV4dCIsImpvYlRleHQiLCJfdmFsdWVzIiwiam9iIiwidmFsaWRhdGlvbkNvbmZpZyIsInBvcHVwRWRpdFByb2ZpbGUiLCJwb3B1cEVkaXRPcGVuIiwicHJvZmlsZUVkaXRGb3JtIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJuYW1lT3V0cHV0Iiwiam9iT3V0cHV0IiwicG9wdXBBZGRDYXJkIiwiY2FyZEFkZE9wZW4iLCJjYXJkQWRkRm9ybSIsImNhcmRUaXRsZUlucHV0IiwiY2FyZEltYWdlSW5wdXQiLCJwb3B1cEltYWdlU2VjdGlvbiIsInBvcHVwU3VibWl0IiwicG9wdXBBdmF0YXIiLCJjaGFuZ2VBdmF0YXJPcGVuIiwiY2hhbmdlQXZhdGFyRm9ybSIsImF2YXRhckxpbmtJbnB1dCIsImF2YXRhckltYWdlIiwiY2FyZHNBcGkiLCJ1c2VyRGF0YUFwaSIsImdldERhdGEiLCJ1c2VySW5mbyIsInBvcHVwV2l0aFN1Ym1pdENsYXNzIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJhbGwiLCJ1c2VyRGF0YSIsImluaXRpYWxDYXJkcyIsImNyZWF0ZUNhcmRJbnN0YW5jZSIsImltYWdlVGl0bGUiLCJpbWFnZVVybCIsImxpa2VzTnVtYmVyIiwiaW1hZ2VJZCIsInBvcHVwV2l0aEltYWdlQ2xhc3MiLCJjYXJkc0xpc3QiLCJyZXZlcnNlIiwiY2FyZCIsIm93bmVyIiwiY2FyZEVsZW1lbnQiLCJnZW5lcmF0ZUNhcmQiLCJhZGRJdGVtIiwiaXNPd25lciIsInJlbmRlckl0ZW1zIiwiYWRkQ2FyZEZvcm1DbGFzcyIsImNhcmRJbWFnZSIsImNyZWF0ZUNhcmQiLCJkYXRhIiwiY2FyZEZvcm1WYWxpZGF0b3IiLCJyZW1vdmVFcnJvcnMiLCJlZGl0UHJvZmlsZUZvcm1DbGFzcyIsImVkaXRQcm9maWxlRm9ybVN1Ym1pdEhhbmRsZXIiLCJjaGFuZ2VBdmF0YXJQb3B1cENsYXNzIiwiY2hhbmdlQXZhdGFyU3VibWl0SGFuZGxlciIsImNoYW5nZUF2YXRhciIsInByb2ZpbGVGb3JtVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJzZXRVc2VySW5mbyIsImVkaXRQcm9maWxlIiwiZ2V0VXNlckluZm8iXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVB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RUFBc0IsSUFBSTdJLEVBQWNvRixFQUFrQmlCLElBQ2hFd0MsRUFBb0JELG1CQUlwQixJQUFNTCxFQUErQixXQUNuQzVCLEdBQVNtQyxZQUFZdEQsRUFBV0MsR0FDaENnQixHQUFZc0MsWUFBWXZELEVBQVV2TCxNQUFPd0wsRUFBU3hMLE9BQ2xEcU8sRUFBcUI5SixTQUt0QjhHLEVBQWNsSCxpQkFBaUIsU0FBUyxXQUN2Q2tLLEVBQXFCekosT0FDckIsSUFBTWtJLEVBQVdKLEdBQVNxQyxZQUFZdEQsRUFBWUMsR0FDbERILEVBQVV2TCxNQUFROE0sRUFBU3hOLEtBQzNCa00sRUFBU3hMLE1BQVE4TSxFQUFTNUIsSUFDMUJ3RCxFQUFxQk4sYUFBYTlDLE1BR3BDYSxHQUFpQmhJLGlCQUFpQixTQUFTLFdBQ3pDb0ssRUFBdUIzSixPQUN2QmdLLEVBQW9CUixhQUFhaEMsVUFFbEM1SCxPQUFNLFNBQUNDLEdBQ1JDLFFBQVFDLElBQUlGIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJleHBvcnQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIGdldERhdGEoKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwsIHsgaGVhZGVyczogdGhpcy5faGVhZGVycyB9KVxuICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGNyZWF0ZUNhcmQoY2FyZFRpdGxlLCBjYXJkVXJsKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwsXG4gICAgICB7XG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbmFtZTogY2FyZFRpdGxlLFxuICAgICAgICAgIGxpbms6IGNhcmRVcmxcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2xpa2VzLyR7Y2FyZElkfWAsXG4gICAgICB7XG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICB9KVxuICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGdldExpa2VzKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9saWtlcy8ke2NhcmRJZH1gLFxuICAgICAge1xuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgfSlcbiAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSk7XG4gIH1cblxuICBkaXNsaWtlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vbGlrZXMvJHtjYXJkSWR9YCxcbiAgICAgIHtcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIH0pXG4gICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZWRpdFByb2ZpbGUodXNlck5hbWUsIHVzZXJKb2IpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCxcbiAgICAgIHtcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbmFtZTogdXNlck5hbWUsXG4gICAgICAgICAgYWJvdXQ6IHVzZXJKb2JcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vJHtjYXJkSWR9YCxcbiAgICAgIHtcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIH0pXG4gICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgY2hhbmdlQXZhdGFyKGxpbmspIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vYXZhdGFyYCxcbiAgICAgIHtcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgYXZhdGFyOiBsaW5rLFxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSk7XG4gIH1cblxufVxuIiwiZXhwb3J0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3Rvcih7IHRpdGxlLCB1cmwsIGNhcmRTZWxlY3RvciwgY2xpY2ssIGxpa2VzLCBhcGksIGlkLCBzdWJtaXRQb3B1cCwgb3duZXJJZCwgbXlJZCB9KSB7XG4gICAgdGhpcy5fdGl0bGUgPSB0aXRsZTtcbiAgICB0aGlzLl91cmwgPSB1cmw7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGNsaWNrO1xuICAgIHRoaXMuX2hvd01hbnlMaWtlcyA9IGxpa2VzO1xuICAgIHRoaXMuX2FwaSA9IGFwaTtcbiAgICB0aGlzLl9pZCA9IGlkO1xuICAgIHRoaXMuX3N1Ym1pdFBvcHVwID0gc3VibWl0UG9wdXA7XG4gICAgdGhpcy5fb3duZXJJZCA9IG93bmVySWQ7XG4gICAgdGhpcy5fbXlJZCA9IG15SWQ7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBjb25zdCBkZWxldGVCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19kZWxldGUtYnV0dG9uJyk7XG4gICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5fc3VibWl0UG9wdXAuc2V0U3VibWl0QWN0aW9uKCgpID0+XG4gICAgICAgIHRoaXMuX2FwaS5kZWxldGVDYXJkKHRoaXMuX2lkKVxuICAgICAgICAgIC50aGVuKHJlcyA9PiB7IHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7IHRoaXMuX3N1Ym1pdFBvcHVwLmNsb3NlKCkgfSlcbiAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIHRoaXMuX3N1Ym1pdFBvcHVwLm9wZW4oKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2soKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3Bob3RvJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVMaWtlQ2xpY2soKSB7XG4gICAgY29uc3QgbGlrZUljb24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWljb24nKTtcbiAgICBjb25zdCBudW1iZXJPZkxpa2VzID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZS1udW1iZXInKTtcbiAgICBsaWtlSWNvbi5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50X19saWtlLWljb25fYWN0aXZlJyk7XG4gICAgaWYgKCFsaWtlSWNvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2VsZW1lbnRfX2xpa2UtaWNvbl9hY3RpdmUnKSkge1xuICAgICAgdGhpcy5fYXBpLmRpc2xpa2VDYXJkKHRoaXMuX2lkKVxuICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgbnVtYmVyT2ZMaWtlcy50ZXh0Q29udGVudCA9IGAke3Jlcy5saWtlcy5sZW5ndGh9YDtcbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2FwaS5saWtlQ2FyZCh0aGlzLl9pZClcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIG51bWJlck9mTGlrZXMudGV4dENvbnRlbnQgPSBgJHtyZXMubGlrZXMubGVuZ3RofWA7XG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpc093bmVyKG15VXNlcklkKSB7XG4gICAgY29uc3QgZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZGVsZXRlLWJ1dHRvbicpO1xuICAgIGlmIChteVVzZXJJZCAhPT0gdGhpcy5fb3duZXJJZCkge1xuICAgICAgZGVsZXRlQnV0dG9uLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICBjb25zdCBwaG90b0VsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpO1xuICAgIGNvbnN0IHBob3RvVGl0bGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19waG90bycpO1xuICAgIGNvbnN0IG51bWJlck9mTGlrZXMgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLW51bWJlcicpO1xuICAgIHBob3RvRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX3RpdGxlO1xuICAgIHBob3RvVGl0bGUuc3JjID0gdGhpcy5fdXJsO1xuICAgIHBob3RvVGl0bGUuYWx0ID0gdGhpcy5fdGl0bGU7XG4gICAgbnVtYmVyT2ZMaWtlcy50ZXh0Q29udGVudCA9IHRoaXMuX2hvd01hbnlMaWtlcztcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHsgaW5wdXRTZWxlY3RvciwgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzLCBpbmFjdGl2ZUJ1dHRvbkNsYXNzLCBzdWJtaXRCdXR0b25TZWxlY3RvciB9LCBmb3JtKSB7XG4gICAgdGhpcy5fZm9ybSA9IGZvcm07XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBlcnJvckNsYXNzO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBpbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gIH1cblxuICAvLyDQv9GA0LjQstCw0YLQvdGL0Lkg0LzQtdGC0L7QtCDQv9GA0L7QstC10YDQutC4INC/0L7Qu9C10Lkg0YTQvtGA0LzRiyDQvdCwINCy0LDQu9C40LTQvdC+0YHRgtGMIC0g0LLQvtC30LLRgNCw0YnQsNC10YIgdHJ1ZSwg0LXRgdC70Lgg0YXQvtGC0Y8g0LHRiyDQvtC00L3QviDQv9C+0LvQtSDQvdC10LLQsNC70LjQtNC90L5cblxuICBfaGFzSW52YWxpZElucHV0KGFsbElucHV0TGlzdCkge1xuICAgIHJldHVybiBhbGxJbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoZm9ybSwgaW5wdXQsIGVycm9yTWVzc2FnZSwgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzKSB7XG4gICAgY29uc3QgZm9ybUVycm9yTWVzc2FnZSA9IGZvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZChpbnB1dEVycm9yQ2xhc3MpO1xuICAgIGZvcm1FcnJvck1lc3NhZ2UuY2xhc3NMaXN0LmFkZChlcnJvckNsYXNzKTtcbiAgICBmb3JtRXJyb3JNZXNzYWdlLnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICB9XG5cbiAgLy8g0YTRg9C90LrRhtC40Y8g0L7RgtC80LXQvdGLINGB0YLQuNC70LjQt9Cw0YbQuNC4INC/0L7Qu9GPINGBINC+0YjQuNCx0LrQvtC5INCyINGE0L7RgNC80LDRhVxuXG4gIF9oaWRlSW5wdXRFcnJvcihmb3JtLCBpbnB1dCwgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzKSB7XG4gICAgY29uc3QgZm9ybUVycm9yTWVzc2FnZSA9IGZvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShpbnB1dEVycm9yQ2xhc3MpO1xuICAgIGZvcm1FcnJvck1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZShlcnJvckNsYXNzKTtcbiAgICBmb3JtRXJyb3JNZXNzYWdlLnRleHRDb250ZW50ID0gJyc7XG4gIH1cblxuICAvLyDQv9GA0LjQstCw0YLQvdGL0Lkg0LzQtdGC0L7QtCDQv9GA0L7QstC10YDQutC4INCy0LDQu9C40LTQvdC+0YHRgtC4INGE0L7RgNC80YtcblxuICBfaXNGb3JtVmFsaWQoZm9ybSwgaW5wdXQpIHtcbiAgICBpZiAoIWlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihmb3JtLCBpbnB1dCwgaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2UsIHRoaXMuX2lucHV0RXJyb3JDbGFzcywgdGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoZm9ybSwgaW5wdXQsIHRoaXMuX2lucHV0RXJyb3JDbGFzcywgdGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgfVxuICB9XG5cbiAgLy8g0LjQt9C80LXQvdC10L3QuNC1INGB0L7RgdGC0L7Rj9C90LjRjyDQutC90L7Qv9C60Lgg0YHQsNCx0LzQuNGC0LBcblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoYWxsSW5wdXRMaXN0LCBidXR0b24sIGluYWN0aXZlQnV0dG9uQ2xhc3MpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGFsbElucHV0TGlzdCkpIHtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZW1vdmVFcnJvcnMoZm9ybSkge1xuICAgIC8vINGB0L7Qt9C00LDQtdC8INC80LDRgdGB0LjQsiDQuNC90L/Rg9GC0L7QsiDQstC90YPRgtGA0Lgg0YTQvtGA0LzRi1xuICAgIGNvbnN0IGFsbElucHV0TGlzdCA9IEFycmF5LmZyb20oZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcbiAgICAvLyDQtNC10LvQsNC10Lwg0L7QsdGF0L7QtCDQvNCw0YHRgdC40LLQsCDQuNC90L/Rg9GC0L7QsiDQuCDRgyDQutCw0LbQtNC+0LPQviDRg9Cx0LjRgNCw0LXQvCDQutC70LDRgdGBINGBINC+0YjQuNCx0LrQvtC5XG4gICAgYWxsSW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoZm9ybSwgaW5wdXRFbGVtZW50LCB0aGlzLl9pbnB1dEVycm9yQ2xhc3MsIHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIH0pO1xuICAgIGNvbnN0IGJ1dHRvbiA9IGZvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoYWxsSW5wdXRMaXN0LCBidXR0b24sIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICB9XG5cbiAgLy8g0YTRg9C90LrRhtC40Y8g0YHRgtC40LvQuNC30LDRhtC40Lgg0L/QvtC70Y8g0YEg0L7RiNC40LHQutC+0Lkg0LIg0YTQvtGA0LzQsNGFXG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKGZvcm0sIGlucHV0U2VsZWN0b3IsIHN1Ym1pdEJ1dHRvblNlbGVjdG9yKSB7XG4gICAgY29uc3QgYWxsSW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoaW5wdXRTZWxlY3RvcikpO1xuICAgIC8vINC90LDRhdC+0LTQuNC8INC60L3QvtC/0LrRgyBzdWJtaXQg0LIg0YTQvtGA0LzQtSBcItCU0L7QsdCw0LLQuNGC0Ywg0YTQvtGC0L5cIiDQuCDQstGL0LfRi9Cy0LDQtdC8INGE0YPQvdC60YbQuNGOINC40LfQvNC10L3QtdC90LjRjyDRgdC+0YHRgtC+0Y/QvdC40Y8g0LrQvdC+0L/QutC4INC00LvRjyDQtdGRINC+0YLQutC70Y7Rh9C10L3QuNGPINC/0YDQuCDQv9C10YDQstC+0L3QsNGH0LDQu9GM0L3QvtC8INC+0YLQutGA0YvRgtC40Lgg0YTQvtGA0LzRi1xuICAgIGNvbnN0IGJ1dHRvbkFkZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtYWRkX19zdWJtaXQtYnV0dG9uJyk7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoYWxsSW5wdXRMaXN0LCBidXR0b25BZGRGb3JtKTtcbiAgICAvLyDQvtCx0YXQvtC00LjQvCDQutC+0LvQu9C10LrRhtC40Y4g0LjQvdC/0YPRgtC+0LIg0Lgg0LrQsNC20LTQvtC80YMg0L3QsNCy0LXRiNC40LLQsNC10Lwg0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8gaW5wdXRcbiAgICBhbGxJbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAvLyDQv9GA0Lgg0LLQstC+0LTQtSDQu9GO0LHQvtCz0L4g0YHQuNC80LLQvtC70LAg0LLRi9C30YvQstCw0LXQvCDRhNGD0L3QutGG0LjRjiBpc0Zvcm1WYWxpZCwg0L/QtdGA0LXQtNCw0ZHQvCDQtdC5INGE0L7RgNC80YMg0Lgg0L/QvtC70LUg0LLQstC+0LTQsCDQutCw0Log0LDRgNCz0YPQvNC10L3RgtGLXG4gICAgICAgIHRoaXMuX2lzRm9ybVZhbGlkKGZvcm0sIGlucHV0KTtcbiAgICAgICAgLy8g0L3QsNGF0L7QtNC40Lwg0LrQvdC+0L/QutGDIHN1Ym1pdCDQtNC70Y8g0LLRgdC10YUg0YTQvtGA0LwsINCy0YvQt9GL0LLQsNC10Lwg0YTRg9C90LrRhtC40Y4g0LjQt9C80LXQvdC10L3QuNGPINGB0L7RgdGC0L7Rj9C90LjRjyDQv9GA0Lgg0L3QtdCy0LDQu9C40LTQvdC+0Lwg0LjQvdC/0YPRgtC1INC4INC/0LXRgNC10LTQsNGR0Lwg0LzQsNGB0YHQuNCyINC40L3Qv9GD0YLQvtCyINC4INC60L3QvtC/0LrRgyDQutCw0Log0LDRgNCz0YPQvNC10L3RgtGLXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGZvcm0ucXVlcnlTZWxlY3RvcihzdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGFsbElucHV0TGlzdCwgYnV0dG9uLCB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKHRoaXMuX2Zvcm0sIHRoaXMuX2lucHV0U2VsZWN0b3IsIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IgKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yID0gcG9wdXBTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fY2xvc2VQb3B1cEJ5T3ZlcmxheUNsaWNrID0gdGhpcy5fY2xvc2VQb3B1cEJ5T3ZlcmxheUNsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbG9zZVBvcHVwQnlPdmVybGF5Q2xpY2spO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2Nsb3NlUG9wdXBCeU92ZXJsYXlDbGljayk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgX2Nsb3NlUG9wdXBCeU92ZXJsYXlDbGljayhldnQpIHtcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX29wZW5lZCcpKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgY2xvc2VJY29uID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcuY2xvc2UtaWNvbicpO1xuICAgIGNsb3NlSWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tICcuL3BvcHVwLmpzJztcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgZm9ybSwgc3VibWl0IH0pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXRCdXR0b24gPSBzdWJtaXQ7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgLy8g0LTQvtGB0YLQsNGR0Lwg0LLRgdC1INGN0LvQtdC80LXQvdGC0Ysg0L/QvtC70LXQuVxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2lucHV0Jyk7XG5cbiAgICAvLyDRgdC+0LfQtNCw0ZHQvCDQv9GD0YHRgtC+0Lkg0L7QsdGK0LXQutGCXG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuXG4gICAgLy8g0LTQvtCx0LDQstC70Y/QtdC8INCyINGN0YLQvtGCINC+0LHRitC10LrRgiDQt9C90LDRh9C10L3QuNGPINCy0YHQtdGFINC/0L7Qu9C10LlcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG5cbiAgICAvLyDQstC+0LfQstGA0LDRidCw0LXQvCDQvtCx0YrQtdC60YIg0LfQvdCw0YfQtdC90LjQuVxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICB9XG5cbiAgX3RleHRMb2FkaW5nKGlzTG9hZGluZykge1xuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignLmZvcm1fX3N1Ym1pdCcpO1xuICAgIGlmKGlzTG9hZGluZykge1xuICAgICAgc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LjRgtGMJ1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX3RleHRMb2FkaW5nKHRydWUpO1xuICAgICAgLy8g0LTQvtCx0LDQstC40Lwg0LLRi9C30L7QsiDRhNGD0L3QutGG0LjQuCBfaGFuZGxlRm9ybVN1Ym1pdFxuICAgICAgLy8g0L/QtdGA0LXQtNCw0LTQuNC8INC10Lkg0L7QsdGK0LXQutGCIOKAlCDRgNC10LfRg9C70YzRgtCw0YIg0YDQsNCx0L7RgtGLIF9nZXRJbnB1dFZhbHVlc1xuICAgICAgdGhpcy5faGFuZGxlU3VibWl0QnV0dG9uKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gICAgdGhpcy5fdGV4dExvYWRpbmcoZmFsc2UpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7UG9wdXB9IGZyb20gJy4vcG9wdXAuanMnO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHBvcHVwUGhvdG9JdGVtLCBwb3B1cFBob3RvVGl0bGUpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cFBob3RvSXRlbSA9IHBvcHVwUGhvdG9JdGVtO1xuICAgIHRoaXMuX3BvcHVwUGhvdG9UaXRsZSA9IHBvcHVwUGhvdG9UaXRsZTtcbiAgfVxuXG4gIG9wZW4odGl0bGUsIHVybCkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9wb3B1cFBob3RvSXRlbS5zcmMgPSB1cmw7XG4gICAgdGhpcy5fcG9wdXBQaG90b1RpdGxlLmFsdCA9IHRpdGxlO1xuICAgIHRoaXMuX3BvcHVwUGhvdG9UaXRsZS50ZXh0Q29udGVudCA9IHRpdGxlO1xuICB9XG5cbn1cblxuXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gJy4vcG9wdXAuanMnO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICBzZXRTdWJtaXRBY3Rpb24oc3VibWl0QWN0aW9uKSB7XG4gICAgdGhpcy5fc3VibWl0QWN0aW9uID0gc3VibWl0QWN0aW9uO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fc3VibWl0QWN0aW9uKCk7XG4gICAgfSlcbiAgfVxufVxuXG5cbiIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IgKHtpdGVtcywgcmVuZGVyZXJ9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2luaXRpYWxBcnJheSA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pbml0aWFsQXJyYXkuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cblxufVxuIiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IgKHtuYW1lSW5mb1NlbGVjdG9yLCBqb2JJbmZvU2VsZWN0b3IsIHVzZXJBdmF0YXJTZWxlY3Rvcn0pIHtcbiAgICB0aGlzLl9uYW1lSW5mb1NlbGVjdG9yID0gbmFtZUluZm9TZWxlY3RvcjtcbiAgICB0aGlzLl9qb2JJbmZvU2VsZWN0b3IgPSBqb2JJbmZvU2VsZWN0b3I7XG4gICAgdGhpcy5fdXNlckF2YXRhclNlbGVjdG9yID0gdXNlckF2YXRhclNlbGVjdG9yO1xuICB9XG5cbiAgZ2V0VXNlckluZm8obmFtZVRleHQsIGpvYlRleHQpIHtcbiAgICB0aGlzLl92YWx1ZXMgPSB7XG4gICAgICBuYW1lOiBuYW1lVGV4dC50ZXh0Q29udGVudCxcbiAgICAgIGpvYjogam9iVGV4dC50ZXh0Q29udGVudFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlcztcbiAgfVxuXG4gIHNldFVzZXJJbmZvKG5hbWUsIGpvYikge1xuICAgIHRoaXMuX25hbWVJbmZvU2VsZWN0b3IudGV4dENvbnRlbnQgPSBuYW1lLnZhbHVlO1xuICAgIHRoaXMuX2pvYkluZm9TZWxlY3Rvci50ZXh0Q29udGVudCA9IGpvYi52YWx1ZTtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XG4gIGlucHV0U2VsZWN0b3I6ICcuZm9ybV9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5mb3JtX19zdWJtaXQnLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAnZm9ybV9fc3VibWl0X2luYWN0aXZlJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybV9faW5wdXRfdHlwZV9lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmUnXG59XG4iLCJleHBvcnQgY29uc3QgcG9wdXBFZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1lZGl0Jyk7XG5leHBvcnQgY29uc3QgcG9wdXBFZGl0T3BlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IHBvcHVwRWRpdENsb3NlID0gcG9wdXBFZGl0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucG9wdXAtZWRpdF9fY2xvc2UtYnV0dG9uJyk7XG5leHBvcnQgY29uc3QgcG9wdXBFZGl0U3VibWl0ID0gcG9wdXBFZGl0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucG9wdXAtZWRpdF9fc3VibWl0LWJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1lZGl0X19mb3JtJyk7XG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gcHJvZmlsZUVkaXRGb3JtLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX25hbWUnKTtcbmV4cG9ydCBjb25zdCBqb2JJbnB1dCA9IHByb2ZpbGVFZGl0Rm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faW5wdXRfdHlwZV9qb2InKTtcbmV4cG9ydCBjb25zdCBuYW1lT3V0cHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX25hbWUnKTtcbmV4cG9ydCBjb25zdCBqb2JPdXRwdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fcG9zaXRpb24nKTtcbmV4cG9ydCBjb25zdCBwb3B1cEFkZENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtYWRkJyk7XG5leHBvcnQgY29uc3QgY2FyZEFkZE9wZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IGNhcmRBZGRDbG9zZSA9IHBvcHVwQWRkQ2FyZC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtYWRkX19jbG9zZS1idXR0b24nKTtcbmV4cG9ydCBjb25zdCBjYXJkQWRkU3VibWl0ID0gcG9wdXBBZGRDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1hZGRfX3N1Ym1pdC1idXR0b24nKTtcbmV4cG9ydCBjb25zdCBjYXJkQWRkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1hZGRfX2Zvcm0nKTtcbmV4cG9ydCBjb25zdCBjYXJkVGl0bGVJbnB1dCA9IGNhcmRBZGRGb3JtLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX3RpdGxlJyk7XG5leHBvcnQgY29uc3QgY2FyZEltYWdlSW5wdXQgPSBjYXJkQWRkRm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faW5wdXRfdHlwZV91cmwnKTtcbmV4cG9ydCBjb25zdCBjYXJkc0xpc3RTZWN0aW9uID0gJy5lbGVtZW50cyc7XG5leHBvcnQgY29uc3QgcG9wdXBJbWFnZVNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtaW1hZ2UnKTtcbmV4cG9ydCBjb25zdCBwb3B1cFBob3RvSXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1pbWFnZV9fcGhvdG8nKTtcbmV4cG9ydCBjb25zdCBwb3B1cFBob3RvVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtaW1hZ2VfX3RpdGxlJyk7XG5leHBvcnQgY29uc3QgcG9wdXBTdWJtaXRPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2RlbGV0ZS1idXR0b24nKTtcbmV4cG9ydCBjb25zdCBwb3B1cFN1Ym1pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1zdWJtaXQnKTtcbmV4cG9ydCBjb25zdCBwb3B1cFN1Ym1pdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtc3VibWl0X19mb3JtJyk7XG5leHBvcnQgY29uc3QgcG9wdXBBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtYXZhdGFyJyk7XG5leHBvcnQgY29uc3QgY2hhbmdlQXZhdGFyT3BlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19jaGFuZ2UtYXZhdGFyLWJ1dHRvbicpO1xuZXhwb3J0IGNvbnN0IGNoYW5nZUF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtYXZhdGFyX19mb3JtJyk7XG5leHBvcnQgY29uc3QgYXZhdGFyTGlua0lucHV0ID0gY2hhbmdlQXZhdGFyRm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faW5wdXRfdHlwZV9hdmF0YXJfdXJsJyk7XG5leHBvcnQgY29uc3QgYXZhdGFySW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBBcGkgfSBmcm9tICcuLi9jb21wb25lbnRzL2FwaS5qcyc7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9jYXJkLmpzJztcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tICcuLi9jb21wb25lbnRzL2Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gJy4uL2NvbXBvbmVudHMvcG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvcG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IHsgUG9wdXBXaXRoU3VibWl0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9wb3B1cFdpdGhTdWJtaXQuanMnO1xuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvc2VjdGlvbi5qcyc7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gJy4uL2NvbXBvbmVudHMvdXNlckluZm8uanMnO1xuaW1wb3J0IHsgdmFsaWRhdGlvbkNvbmZpZyB9IGZyb20gJy4uL3V0aWxzL2NvbmZpZy5qcyc7XG5pbXBvcnQgeyBhdmF0YXJMaW5rSW5wdXQsIGNhcmRBZGRGb3JtLCBjYXJkQWRkT3BlbiwgY2FyZEltYWdlSW5wdXQsIGNhcmRzTGlzdFNlY3Rpb24sIGNhcmRUaXRsZUlucHV0LCBjaGFuZ2VBdmF0YXJGb3JtLCBqb2JJbnB1dCwgam9iT3V0cHV0LCBuYW1lSW5wdXQsIG5hbWVPdXRwdXQsIHBvcHVwQWRkQ2FyZCwgcG9wdXBBdmF0YXIsIHBvcHVwRWRpdE9wZW4sIHBvcHVwRWRpdFByb2ZpbGUsIHBvcHVwSW1hZ2VTZWN0aW9uLCBwb3B1cFBob3RvSXRlbSwgcG9wdXBQaG90b1RpdGxlLCBwb3B1cFN1Ym1pdCwgcHJvZmlsZUVkaXRGb3JtLCBjaGFuZ2VBdmF0YXJPcGVuLCBhdmF0YXJJbWFnZSB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgJy4vaW5kZXguY3NzJztcblxuLy8g0L/QvtC00LrQu9GO0YfQtdC90LjQtSBBUEkg0LTQu9GPINC60LDRgNGC0L7Rh9C10LpcblxuY29uc3QgY2FyZHNBcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMTQvY2FyZHMnLFxuICBoZWFkZXJzOiB7XG4gICAgJ2F1dGhvcml6YXRpb24nOiAnODI3NjZjNDktNzIwMC00NmQ2LWI5MmMtODliYTA4M2Y5NzRiJyxcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gIH1cbn0pXG5cbi8vINC/0L7QtNC60LvRjtGH0LXQvdC40LUgQVBJINC00LvRjyDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LVcblxuY29uc3QgdXNlckRhdGFBcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMTQvdXNlcnMvbWUnLFxuICBoZWFkZXJzOiB7XG4gICAgJ2F1dGhvcml6YXRpb24nOiAnODI3NjZjNDktNzIwMC00NmQ2LWI5MmMtODliYTA4M2Y5NzRiJyxcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gIH1cbn0pXG5cbi8vINC+0YLQvtCx0YDQsNC20LXQvdC40LUg0LTQsNC90L3Ri9GFINC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSwg0L/QvtC00LPRgNGD0LbQsNC10LzRi9GFINGBINGB0LXRgNCy0LXRgNCwXG5cbnVzZXJEYXRhQXBpLmdldERhdGEoKS50aGVuKHJlcyA9PiB7XG4gIG5hbWVPdXRwdXQudGV4dENvbnRlbnQgPSByZXMubmFtZTtcbiAgam9iT3V0cHV0LnRleHRDb250ZW50ID0gcmVzLmFib3V0O1xuICBhdmF0YXJJbWFnZS5zcmMgPSByZXMuYXZhdGFyO1xufSkuY2F0Y2goKGVycikgPT4ge1xuICBjb25zb2xlLmxvZyhlcnIpO1xufSk7XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgbmFtZUluZm9TZWxlY3RvcjogbmFtZU91dHB1dCxcbiAgam9iSW5mb1NlbGVjdG9yOiBqb2JPdXRwdXQsXG4gIHVzZXJBdmF0YXJTZWxlY3RvcjogYXZhdGFySW1hZ2Vcbn0pO1xuXG5jb25zdCBwb3B1cFdpdGhTdWJtaXRDbGFzcyA9IG5ldyBQb3B1cFdpdGhTdWJtaXQocG9wdXBTdWJtaXQpO1xucG9wdXBXaXRoU3VibWl0Q2xhc3Muc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuUHJvbWlzZS5hbGwoW1xuICB1c2VyRGF0YUFwaS5nZXREYXRhKCksXG4gIGNhcmRzQXBpLmdldERhdGEoKVxuXSkudGhlbigoW3VzZXJEYXRhLCBpbml0aWFsQ2FyZHNdKSA9PiB7XG5cbiAgLy8g0YTRg9C90LrRhtC40Y8g0YHQvtC30LTQsNC90LjRjyDQvdC+0LLQvtCz0L4g0Y3QutC30LXQvNC/0LvRj9GA0LAg0LrQsNGA0YLQvtGH0LrQuFxuICBmdW5jdGlvbiBjcmVhdGVDYXJkSW5zdGFuY2UoaW1hZ2VUaXRsZSwgaW1hZ2VVcmwsIGxpa2VzTnVtYmVyLCBpbWFnZUlkLCBvd25lcklkLCBteUlkKSB7XG4gICAgcmV0dXJuIG5ldyBDYXJkKHtcbiAgICAgIHRpdGxlOiBpbWFnZVRpdGxlLFxuICAgICAgdXJsOiBpbWFnZVVybCxcbiAgICAgIGNhcmRTZWxlY3RvcjogJy5lbGVtZW50LXRlbXBsYXRlJyxcbiAgICAgIGNsaWNrOiAoKSA9PiBoYW5kbGVDYXJkQ2xpY2soaW1hZ2VUaXRsZSwgaW1hZ2VVcmwpLFxuICAgICAgbGlrZXM6IGxpa2VzTnVtYmVyLFxuICAgICAgYXBpOiBjYXJkc0FwaSxcbiAgICAgIGlkOiBpbWFnZUlkLFxuICAgICAgc3VibWl0UG9wdXA6IHBvcHVwV2l0aFN1Ym1pdENsYXNzLFxuICAgICAgb3duZXJJZDogb3duZXJJZCxcbiAgICAgIG15SWQ6IG15SWRcbiAgICB9KTtcbiAgfVxuXG4gIC8vINC+0YLQvtCx0YDQsNC20LXQvdC40LUg0LjRgdGF0L7QtNC90L7Qs9C+INC80LDRgdGB0LjQstCwINC60LDRgNGC0L7Rh9C10LosINC/0L7QtNCz0YDRg9C20LDQtdC80L7Qs9C+INGBINGB0LXRgNCy0LXRgNCwXG5cbiAgY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oe1xuICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMucmV2ZXJzZSgpLFxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmRJbnN0YW5jZShpdGVtLm5hbWUsIGl0ZW0ubGluaywgaXRlbS5saWtlcy5sZW5ndGgsIGl0ZW0uX2lkLCBpdGVtLm93bmVyLl9pZCwgdXNlckRhdGEuX2lkKTtcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgICAgIGNhcmRzTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbiAgICAgIGNhcmQuaXNPd25lcih1c2VyRGF0YS5faWQpO1xuICAgIH0sXG4gIH0sXG4gICAgY2FyZHNMaXN0U2VjdGlvbik7XG4gIGNhcmRzTGlzdC5yZW5kZXJJdGVtcygpO1xuXG4gIC8vINGE0YPQvdC60YbQuNGPINC00L7QsdCw0LLQu9C10L3QuNGPINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjNGB0LrQuNGFINGE0L7RgtC+0LPRgNCw0YTQuNC5INC4INC40YUg0L7RgtC/0YDQsNCy0LrQsCDQvdCwINGB0LXRgNCy0LXRgFxuXG4gIGNvbnN0IGFkZENhcmRGb3JtU3VibWl0SGFuZGxlciA9IChjYXJkVGl0bGUsIGNhcmRJbWFnZSkgPT4ge1xuICAgIGNhcmRzQXBpLmNyZWF0ZUNhcmQoY2FyZFRpdGxlLnZhbHVlLCBjYXJkSW1hZ2UudmFsdWUpLlxuICAgICAgdGhlbihkYXRhID0+IHtcbiAgICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmRJbnN0YW5jZShkYXRhLm5hbWUsIGRhdGEubGluaywgZGF0YS5saWtlcy5sZW5ndGgsIGRhdGEuX2lkLCBkYXRhLm93bmVyLl9pZCwgdXNlckRhdGEuX2lkKTtcbiAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICAgICAgICBjYXJkc0xpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7XG4gICAgICAgIGNhcmQuaXNPd25lcih1c2VyRGF0YS5faWQpO1xuICAgICAgICBhZGRDYXJkRm9ybUNsYXNzLmNsb3NlKCk7XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IGFkZENhcmRGb3JtQ2xhc3MgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gICAgcG9wdXBTZWxlY3RvcjogcG9wdXBBZGRDYXJkLFxuICAgIGZvcm06IGNhcmRBZGRGb3JtLFxuICAgIHN1Ym1pdDogKCkgPT4gYWRkQ2FyZEZvcm1TdWJtaXRIYW5kbGVyKGNhcmRUaXRsZUlucHV0LCBjYXJkSW1hZ2VJbnB1dClcbiAgfSk7XG5cbiAgYWRkQ2FyZEZvcm1DbGFzcy5zZXRFdmVudExpc3RlbmVycygpO1xuXG4gIGNhcmRBZGRPcGVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGFkZENhcmRGb3JtQ2xhc3Mub3BlbigpO1xuICAgIGNhcmRGb3JtVmFsaWRhdG9yLnJlbW92ZUVycm9ycyhjYXJkQWRkRm9ybSk7XG4gIH0pO1xuICBjb25zdCBwb3B1cFdpdGhJbWFnZUNsYXNzID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwSW1hZ2VTZWN0aW9uLCBwb3B1cFBob3RvSXRlbSwgcG9wdXBQaG90b1RpdGxlKTtcblxuICBmdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2sodGl0bGUsIHVybCkge1xuICAgIHBvcHVwV2l0aEltYWdlQ2xhc3Mub3Blbih0aXRsZSwgdXJsKTtcbiAgfVxuXG4gIGNvbnN0IGVkaXRQcm9maWxlRm9ybUNsYXNzID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICAgIHBvcHVwU2VsZWN0b3I6IHBvcHVwRWRpdFByb2ZpbGUsXG4gICAgZm9ybTogcHJvZmlsZUVkaXRGb3JtLFxuICAgIHN1Ym1pdDogKCkgPT4gZWRpdFByb2ZpbGVGb3JtU3VibWl0SGFuZGxlcihuYW1lSW5wdXQsIGpvYklucHV0KVxuICB9KTtcblxuICAvLyDRjdC60LfQtdC80L/Qu9GP0YAg0LrQu9Cw0YHRgdCwIFBvcHVwV2l0aEZvcm0g0LTQu9GPINC/0L7Qv9Cw0L/QsCDRgdC+INGB0LzQtdC90L7QuSDQsNCy0LDRgtCw0YDQsFxuXG4gIGNvbnN0IGNoYW5nZUF2YXRhclBvcHVwQ2xhc3MgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gICAgcG9wdXBTZWxlY3RvcjogcG9wdXBBdmF0YXIsXG4gICAgZm9ybTogY2hhbmdlQXZhdGFyRm9ybSxcbiAgICBzdWJtaXQ6ICgpID0+IGNoYW5nZUF2YXRhclN1Ym1pdEhhbmRsZXIoYXZhdGFyTGlua0lucHV0KVxuICB9KVxuXG4gIGNvbnN0IGNoYW5nZUF2YXRhclN1Ym1pdEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgdXNlckRhdGFBcGkuY2hhbmdlQXZhdGFyKGF2YXRhckxpbmtJbnB1dC52YWx1ZSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBhdmF0YXJJbWFnZS5zcmMgPSByZXMuYXZhdGFyO1xuICAgICAgY2hhbmdlQXZhdGFyUG9wdXBDbGFzcy5jbG9zZSgpO1xuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG4gIH1cblxuICBlZGl0UHJvZmlsZUZvcm1DbGFzcy5zZXRFdmVudExpc3RlbmVycygpO1xuICBwb3B1cFdpdGhJbWFnZUNsYXNzLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIGNoYW5nZUF2YXRhclBvcHVwQ2xhc3Muc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICBjb25zdCBwcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHByb2ZpbGVFZGl0Rm9ybSk7XG4gIHByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuICBjb25zdCBjYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGNhcmRBZGRGb3JtKTtcbiAgY2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4gIGNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBjaGFuZ2VBdmF0YXJGb3JtKTtcbiAgYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbiAgLy8g0L/QvtC00YHRgtCw0L3QvtCy0LrQsCDQstCy0LXQtNC10L3QvdGL0YUg0LfQvdCw0YfQtdC90LjQuSDQsiDQv9GA0L7RhNC40LvRjCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0Lgg0LjRhSDQvtGC0L/RgNCw0LLQutCwINC90LAg0YHQtdGA0LLQtdGAXG5cbiAgY29uc3QgZWRpdFByb2ZpbGVGb3JtU3VibWl0SGFuZGxlciA9ICgpID0+IHtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhuYW1lSW5wdXQsIGpvYklucHV0KTtcbiAgICB1c2VyRGF0YUFwaS5lZGl0UHJvZmlsZShuYW1lSW5wdXQudmFsdWUsIGpvYklucHV0LnZhbHVlKTtcbiAgICBlZGl0UHJvZmlsZUZvcm1DbGFzcy5jbG9zZSgpO1xuICB9XG5cbiAgIC8vINCe0JHQoNCQ0JHQntCi0KfQmNCa0JhcblxuICAgcG9wdXBFZGl0T3Blbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBlZGl0UHJvZmlsZUZvcm1DbGFzcy5vcGVuKCk7XG4gICAgY29uc3QgdXNlckRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbyhuYW1lT3V0cHV0LCBqb2JPdXRwdXQpO1xuICAgIG5hbWVJbnB1dC52YWx1ZSA9IHVzZXJEYXRhLm5hbWU7XG4gICAgam9iSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5qb2I7XG4gICAgcHJvZmlsZUZvcm1WYWxpZGF0b3IucmVtb3ZlRXJyb3JzKHByb2ZpbGVFZGl0Rm9ybSk7XG4gIH0pO1xuXG4gIGNoYW5nZUF2YXRhck9wZW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY2hhbmdlQXZhdGFyUG9wdXBDbGFzcy5vcGVuKCk7XG4gICAgYXZhdGFyRm9ybVZhbGlkYXRvci5yZW1vdmVFcnJvcnMoY2hhbmdlQXZhdGFyRm9ybSk7XG4gIH0pXG59KS5jYXRjaCgoZXJyKSA9PiB7XG4gIGNvbnNvbGUubG9nKGVycik7XG59KTtcblxuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0=